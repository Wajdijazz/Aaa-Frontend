<ng-template #cellTemplate let-day="day" let-locale="locale">

    <div class="separatedDay" style="height: 100%">

        <div id="numberOfDay">
            <p class="cal-day-number" style="pointer-events: none"
               (mouseenter)="hover($event)" (mouseleave)="hover($event)"
               [ngStyle]="{'opacity':'100'}">
                {{ day.date | calendarDate:'monthViewDayNumber':locale }}
            </p>
        </div>

        <div id="halfDays">
            <div class="half-day"
                 id="{{day.date.getMonth()}}/{{day.date.getUTCDate()+1}}/{{day.date.getUTCFullYear()}}-AM">
                <div class="case-half-day" (mwlClick)="addDay(day.date, 'AM', $event)">
                    <span class="projectName">Project name</span>
                    <span class="projectName">Role</span>
                </div>
            </div>
            <div class="half-day"
                 id="{{day.date.getMonth()}}/{{day.date.getUTCDate()+1}}/{{day.date.getUTCFullYear()}}-PM">
                <div class="case-half-day" (mwlClick)="addDay(day.date, 'PM', $event)">
                    <span class="projectName">Project name</span>
                    <span class="projectName">Role</span>
                </div>
            </div>
        </div>
    </div>

</ng-template>

<ng-template #weekDayTemplate let-days="days" let-locale="locale">
    <div class="cal-day-headers cursor-default">
        <div
                class="cal-header"
                *ngFor="let day of days"
                [class.cal-past]="day.isPast"
                [class.cal-future]="day.isFuture"
                [class.cal-drag-over]="day.dragOver">
            <div class="top separatedDay" [class.today]="day.isToday">
                <div class="day-label text-uppercase">
                    {{ day.date | calendarDate:'monthViewColumnHeader':locale }}
                </div>

            </div>
        </div>
    </div>
</ng-template>

<div class="center">
    <h3>{{configTime.month}} {{configTime.year}} </h3>
    <div
            class="btn btn-primary"
            mwlCalendarPreviousView
            [view]="view"
            [viewDate]="viewDate"
            (viewDateChange)="refreshCalendar(configTime, '-')"
    >
        Previous
    </div>
    <div
            class="btn btn-outline-secondary"
            mwlCalendarToday
            [viewDate]="viewDate"
            (viewDateChange)="refreshCalendar(configTime, '=' )"
    >
        Today
    </div>
    <div
            class="btn btn-primary"
            mwlCalendarNextView
            [view]="view"
            [viewDate]="viewDate"
            (viewDateChange)="refreshCalendar(configTime, '+')"
    >
        Next
    </div>
    <mwl-calendar-month-view
            [weekStartsOn]="1"
            [viewDate]="viewDate"
            [refresh]="refresh"
            [cellTemplate]="cellTemplate"
            [headerTemplate]="weekDayTemplate"
            id="mwl-calendar"
            class="calendar">

    </mwl-calendar-month-view>
</div>


<form #f="ngForm">
    <mat-form-field>
        <mat-label> Select Person</mat-label>
        <mat-select name="persons list" [(ngModel)]="selectedPerson" required>
            <mat-option *ngFor="let person of persons" [value]="person.personId">
                {{ person.firstName }} {{person.lastName}} </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field>
        <mat-label> Select Project</mat-label>
        <mat-select name="project list"
                    [(ngModel)]="selectedProject" required>
            <mat-option *ngFor="let project of projects"
                        [value]="project.projectId">
                {{ project.projectName }}</mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field>
        <input matInput name="date" id="date" #date="ngModel"
               [(ngModel)]="selectedDate" placeholder="Date" type="date"
               required>
    </mat-form-field>
    <button mat-raised-button type="submit" class="btn btn-info pull-right"
            (click)="addIntervention(intervention)"> Add
    </button>
</form>

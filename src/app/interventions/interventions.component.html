<div class="main-content" >
  <div style="heigh:20% , width:80%">
    <div class="container-fluid" style="width:90%">
      <div class="col-md-16">
        <div class="card card-plain">
          <div class="card-header card-header-info">
            <h4 class="card-title mt-0"> List Of interventions </h4>
            <p class="card-category"> </p>
          </div>
          <div class="card-body">
            <mat-tab-group animationDuration="0ms">
              <mat-tab label="Interventions List">
                <br>
                <div class="card-body">

                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead class="">
                      <th>
                        Person
                      </th>
                      <th>
                        Project
                      </th>
                      <th>
                       Worked days
                      </th>
                      <th> Details</th>

                      <th> Edit</th>
                      <th> Delete</th>
                      </thead>
                      <tbody>
                      <tr *ngFor="let intervention of interventions" >
                        <td>{{intervention.person.firstName}} {{intervention.person.lastName}}</td>
                        <td>{{intervention.project.projectName}}</td>
                        <td>{{intervention.worked}}</td>
                        <td>
                          <button mat-raised-button type="button" matTooltip="Edit " [matTooltipPosition]="'above'" class="btn btn-primary btn-link btn-sm btn-just-icon">
                            <i class="material-icons">edit</i>
                          </button>
                        </td>
                        <td> <button mat-raised-button type="button"  atTooltip="voir details" class="btn btn-primary btn-link btn-sm btn-just-icon" (click)="deleteIntervention(intervention.interventionId)">
                          <i class="material-icons">close</i>
                        </button></td>
                      </tr>
                      </tbody>
                    </table>
                  </div>



                </div>
              </mat-tab>

                <form #f="ngForm">

                  <mat-form-field>
                    <mat-label> Select Person</mat-label>
                    <mat-select  name="persons list" [(ngModel)]="person" (selectionChange)="selectPerson(person)" required>
                      <mat-option *ngFor="let person of persons" [value]="person.personId">{{ person.firstName }} {{person.lastName}} </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field>
                    <mat-label>  Select Project </mat-label>
                    <mat-select  name="project list" [(ngModel)]="project" (selectionChange)="selectProject(project)" required>
                      <mat-option *ngFor="let project of projects" [value]="project.projectId">{{ project.projectName }}</mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field>
                    <input matInput [matDatepicker]="myDatepicker"  name="startDate" placeholder="Select start date"  ngModel >
                    <mat-datepicker-toggle matSuffix [for]="myDatepicker" name="startDate" [(ngModel)]="selectedValue" ></mat-datepicker-toggle>
                    <mat-datepicker #myDatepicker disabled="false"></mat-datepicker>
                  </mat-form-field>
                  <mat-form-field>
                    <input matInput [matDatepicker]="myDatepicker1"  name="endDate" placeholder="Select end date"  ngModel  >
                    <mat-datepicker-toggle matSuffix [for]="myDatepicker1"  name="endDate" [(ngModel)]="selectedValue"  ></mat-datepicker-toggle>
                    <mat-datepicker #myDatepicker1 disabled="false" ></mat-datepicker>
                  </mat-form-field>
                  <button mat-raised-button type="submit" class="btn btn-info pull-right" (click)="addIntervention(intervention)"  > Add </button>
                </form>
              </mat-tab>

            </mat-tab-group>

          </div>
          <hr>

        </div>

      </div>

    </div></div>



</div>
